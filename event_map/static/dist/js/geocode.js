define(["jquery","leaflet","settings"],function(t,n,e){function o(t,n){var o=e.bounds.ul[0]+","+e.bounds.ul[1]+","+e.bounds.lr[0]+","+e.bounds.lr[1],r="http://www.mapquestapi.com/geocoding/v1/address?key="+e.api_key+"&boundingBox="+o+"&location="+t;u(r,n,function(t){return t.results[0].locations[0].latLng})}function r(t,n){var o=i.getNorthEast(),r=i.getSouthWest(),s=r.lat+","+r.lng+"|"+o.lat+","+o.lng,a="https://maps.googleapis.com/maps/api/geocode/json?address="+t+"&bounds="+s+"&components=country:"+e.region+"&sensor=false";u(a,n,function(t){return t.results[0].geometry.location})}function u(n,e,o){return t.ajax({url:n,dataType:"jsonp"}).then(function(t){var n=o(t);e(n,t)})}var i=new n.LatLngBounds(e.bounds.ul,e.bounds.lr);return{mapquest:o,google:r}});