define(["jquery","leaflet","settings"],function(t,e,n){function o(t,e,o){var r=n.bounds.ul[0]+","+n.bounds.ul[1]+","+n.bounds.lr[0]+","+n.bounds.lr[1],u="http://www.mapquestapi.com/geocoding/v1/address?key="+n.api_key+"&boundingBox="+r+"&location="+t;s(u,e,o,function(t){return"POINT"==t.results[0].locations[0].geocodeQuality||"ADDRESS"==t.results[0].locations[0].geocodeQuality||"INTERSECTION"==t.results[0].locations[0].geocodeQuality||"STREET"==t.results[0].locations[0].geocodeQuality?t.results[0].locations[0].latLng:!1})}function r(t,e){var o=u.getNorthEast(),r=u.getSouthWest(),i=r.lat+","+r.lng+"|"+o.lat+","+o.lng,a="https://maps.googleapis.com/maps/api/geocode/json?address="+t+"&bounds="+i+"&components=country:"+n.region+"&sensor=false";s(a,e,function(t){return t.results[0].geometry.location})}function s(e,n,o,r){t.ajax({url:e,dataType:"jsonp"}).done(function(t){var e=r(t);e?n(e,t):o&&o(t)})}var u=new e.LatLngBounds(n.bounds.ul,n.bounds.lr);return{mapquest:o,google:r}});