Handlebars.registerHelper("nl2br",function(t){return t=Handlebars.Utils.escapeExpression(t),t=t.replace(/\r\n|\r|\n/g,"<br/>"),new Handlebars.SafeString(t)}),define("views/../../templates/../templates/helpers/nl2br",function(){}),define("hbs!views/../../templates/event",["hbs","handlebars","../templates/helpers/nl2br"],function(t,e){var n=e.template(function(t,e,n,i,s){function o(t){var e,i,s="";return s+='\n        <a href="#/event/',i=n.slug,i?e=i.call(t,{hash:{}}):(e=t.slug,e=typeof e===u?e():e),s+=f(e)+'/edit" class="btn btn-primary">EDIT</a>\n        '}function a(t){var e,i,s="";return s+="\n            START: ",i=n.start_date,i?e=i.call(t,{hash:{}}):(e=t.start_date,e=typeof e===u?e():e),s+=f(e)+"<br>\n            END: ",i=n.end_date,i?e=i.call(t,{hash:{}}):(e=t.end_date,e=typeof e===u?e():e),s+=f(e)+"\n            "}function r(t){var e,i,s="";return s+="\n                VENUE:",i=n.venue,i?e=i.call(t,{hash:{}}):(e=t.venue,e=typeof e===u?e():e),s+=f(e)+"<br>\n                "}function l(t){var e,i,s="";return s+="\n                <span>ADDRESS: ",i=n.address,i?e=i.call(t,{hash:{}}):(e=t.address,e=typeof e===u?e():e),s+=f(e)+"</span><br>\n                "}function h(){return"\n\n"}n=n||t.helpers;var d,c,p="",u="function",f=this.escapeExpression,v=this,m=n.helperMissing;return p+="<div>\n    <h1>",c=n.title,c?d=c.call(e,{hash:{}}):(d=e.title,d=typeof d===u?d():d),p+=f(d),d=e.edit,d=n["if"].call(e,d,{hash:{},inverse:v.noop,fn:v.program(1,o,s)}),(d||0===d)&&(p+=d),p+='</h1>\n    <div class="row-fluid">\n        <div class="span10">\n            <h3>\n            ',d=e.end_date,d=n["if"].call(e,d,{hash:{},inverse:v.noop,fn:v.program(3,a,s)}),(d||0===d)&&(p+=d),p+='\n            <h3>\n        </div>\n    </div>\n    <div class="row-fluid">\n        <div class="span5">\n            <h3>\n                ',d=e.venue,d=n["if"].call(e,d,{hash:{},inverse:v.noop,fn:v.program(5,r,s)}),(d||0===d)&&(p+=d),p+="\n                ",d=e.address,d=n["if"].call(e,d,{hash:{},inverse:v.noop,fn:v.program(7,l,s)}),(d||0===d)&&(p+=d),p+='\n\n                <a href="#/author/',c=n.author,c?d=c.call(e,{hash:{}}):(d=e.author,d=typeof d===u?d():d),p+=f(d)+'">BY:',c=n.author,c?d=c.call(e,{hash:{}}):(d=e.author,d=typeof d===u?d():d),p+=f(d)+"</a>\n            </h3>\n        </div>\n    </div>\n</div>\n<div>\n",d=e.content,c=n.nl2br,d=c?c.call(e,d,{hash:{},inverse:v.noop,fn:v.program(9,h,s)}):m.call(e,"nl2br",d,{hash:{},inverse:v.noop,fn:v.program(9,h,s)}),(d||0===d)&&(p+=d),p+="\n</div>\n"});return e.registerPartial("views_.._.._templates_event",n),n}),define("views/event",["utils","backbone","hbs!../../templates/event"],function(t,e,n){var i=e.View.extend({tagName:"div",className:"replace span7 overflow setheight",id:"event_view",height:0,initialize:function(){var t=this;app.session.on("change",function(){t.render()})},render:function(){this.model.get("location_point")&&app.map.add_marker(this.model.get("location_point").coordinates),this.edit=this.model.get("author")==app.session.get("username")?!0:!1,this.model.set("edit",this.edit,{silent:!0});var t=this.model.toJSON();return t.start_date=this.model.get("start_datetime").format("dddd, MMMM Do YYYY, h:mm:ss a"),t.end_date=this.model.get("end_datetime").format("dddd, MMMM Do YYYY, h:mm:ss a"),this.$el.html(n(t)),this}});return{EventView:i}});