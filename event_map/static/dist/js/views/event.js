Handlebars.registerHelper("nl2br",function(e){return e=Handlebars.Utils.escapeExpression(e),e=e.replace(/\r\n|\r|\n/g,"<br/>"),new Handlebars.SafeString(e)}),define("views/../../templates/../templates/helpers/nl2br",function(){}),define("hbs!views/../../templates/event",["hbs","handlebars","../templates/helpers/nl2br"],function(e,t){var n=t.template(function(e,t,n,i,s){function o(e){var t,i,s="";return s+='\n        <a href="#/event/',i=n.slug,i?t=i.call(e,{hash:{}}):(t=e.slug,t=typeof t===m?t():t),s+=f(t)+'/edit" class="btn btn-primary">EDIT</a>\n        '}function a(e){var t,i,s="";return s+="\n            START: ",i=n.start_date,i?t=i.call(e,{hash:{}}):(t=e.start_date,t=typeof t===m?t():t),s+=f(t)+"<br>\n            END: ",i=n.end_date,i?t=i.call(e,{hash:{}}):(t=e.end_date,t=typeof t===m?t():t),s+=f(t)+"\n            "}function r(e){var t,i,s="";return i=n.venue,i?t=i.call(e,{hash:{}}):(t=e.venue,t=typeof t===m?t():t),s+=f(t)+" "}function l(e){var t,i;return i=n.location,i?t=i.call(e,{hash:{}}):(t=e.location,t=typeof t===m?t():t),f(t)}function h(){var e="";return e}function d(){return"\n\n"}n=n||e.helpers;var c,p,u="",m="function",f=this.escapeExpression,v=this,g=n.helperMissing;return u+="<div>\n    <h1>",p=n.title,p?c=p.call(t,{hash:{}}):(c=t.title,c=typeof c===m?c():c),u+=f(c),c=t.edit,c=n["if"].call(t,c,{hash:{},inverse:v.noop,fn:v.program(1,o,s)}),(c||0===c)&&(u+=c),u+='</h1>\n    <div class="row-fluid">\n        <div class="span10">\n            <h3>\n            ',c=t.end_date,c=n["if"].call(t,c,{hash:{},inverse:v.noop,fn:v.program(3,a,s)}),(c||0===c)&&(u+=c),u+='\n            <h3>\n        </div>\n    </div>\n    <div class="row-fluid">\n        <div class="span5">\n            <h3>\n                WHERE:',c=t.venue,c=n["if"].call(t,c,{hash:{},inverse:v.noop,fn:v.program(5,r,s)}),(c||0===c)&&(u+=c),c=t.location,c=n["if"].call(t,c,{hash:{},inverse:v.noop,fn:v.program(7,l,s)}),(c||0===c)&&(u+=c),c=t.venue,c=n["if"].call(t,c,{hash:{},inverse:v.noop,fn:v.program(9,h,s)}),(c||0===c)&&(u+=c),u+='\n                <br>\n                <a href="#/author/',p=n.author,p?c=p.call(t,{hash:{}}):(c=t.author,c=typeof c===m?c():c),u+=f(c)+'">BY:',p=n.author,p?c=p.call(t,{hash:{}}):(c=t.author,c=typeof c===m?c():c),u+=f(c)+"</a>\n            </h3>\n        </div>\n    </div>\n</div>\n<div>\n",c=t.content,p=n.nl2br,c=p?p.call(t,c,{hash:{},inverse:v.noop,fn:v.program(11,d,s)}):g.call(t,"nl2br",c,{hash:{},inverse:v.noop,fn:v.program(11,d,s)}),(c||0===c)&&(u+=c),u+="\n</div>\n"});return t.registerPartial("views_.._.._templates_event",n),n}),define("views/event",["utils","backbone","hbs!../../templates/event"],function(e,t,n){var i=t.View.extend({tagName:"div",className:"replace span7 overflow setheight",id:"event_view",height:0,initialize:function(){var e=this;app.session.on("change",function(){e.render()})},render:function(){this.model.get("location_point")&&app.map.add_marker(this.model.get("location_point").coordinates),this.edit=this.model.get("author")==app.session.get("username")?!0:!1,this.model.set("edit",this.edit,{silent:!0});var e=this.model.toJSON();return e.start_date=this.model.get("start_datetime").format("dddd, MMMM Do YYYY, h:mm:ss a"),e.end_date=this.model.get("end_datetime").format("dddd, MMMM Do YYYY, h:mm:ss a"),this.$el.html(n(e)),this}});return{EventView:i}});