define(["jquery","underscore","backbone","utils","jade!../../templates/feed_add"],function(e,t,n,o,r){var i=n.View.extend({tagname:"div",template:r,className:"span7 overflow setheight",events:{"click #add_group":"add_group","click .cancel":"cancel","click #delete_group":"delete_group"},initialize:function(){this.model.on("error",function(n,o){t.each(o,function(t,n){e("#"+n+"_error").show().html(t)})})},render:function(){return this.$el.append(this.template(this.model.toJSON())),this},cancel:function(e){e.preventDefault(),app.navigate("/#",{trigger:!0})},add_group:function(n){var r=this;if(n.preventDefault(),e(".label").hide(),this.model.set(o.form2object("#group_add_form"))){var i=this.model.save();i&&(i.error(function(n){var o=JSON.parse(n.responseText);t.each(o.errors,function(t,n){e("#"+n+"_error").show().html(t[0])})}),i.success(function(){app.navigate("group/"+r.model.id,{trigger:!0})}))}},delete_group:function(e){e.preventDefault();var t=this;confirm("Do you want to Delete your Group?")&&t.model.destroy({success:function(){app.navigate("/#",{trigger:!0})}})}});return i});