define(["underscore","jquery","backbone","utils","hbs!../../templates/group_add"],function(e,t,i,a,n){var s=i.View.extend({tagname:"div",template:n,className:"span7 overflow setheight",events:{"click #add_group":"add_group","click .cancel":"cancel","click #delete_group":"delete_group"},initialize:function(){this.model.on("error",function(i,a){e.each(a,function(e,i){t("#"+i+"_error").show().html(e)})})},render:function(){return this.$el.append(this.template(this.model.toJSON())),this},cancel:function(e){e.preventDefault(),app.navigate("/#",{trigger:!0})},add_group:function(i){var n=this;i.preventDefault(),t(".label").hide(),this.model.set(a.form2object("#group_add_form"))&&(promise=this.model.save(),promise&&(promise.error(function(i){var a=JSON.parse(i.responseText);e.each(a.errors,function(e,i){t("#"+i+"_error").show().html(e[0])})}),promise.success(function(){app.navigate("feed/"+n.model.id,{trigger:!0})})))},delete_group:function(e){e.preventDefault(),self=this,confirm("Do you want to Delete your Group?")&&self.model.destroy({success:function(){app.navigate("/#",{trigger:!0})}})}});return s});