define(["underscore","jquery","backbone","utils","hbs!../../templates/group_add"],function(e,t,i,n,a){var s=i.View.extend({tagname:"div",template:a,className:"span7 overflow setheight",events:{"click #add_group":"add_group","click .cancel":"cancel","click #delete_group":"delete_group"},initialize:function(){this.model.on("error",function(i,n){e.each(n,function(e,i){t("#"+i+"_error").show().html(e)})})},render:function(){return this.$el.append(this.template(this.model.toJSON())),this},cancel:function(e){e.preventDefault(),app.navigate("/#",{trigger:!0})},add_group:function(i){var a=this;i.preventDefault(),t(".label").hide(),this.model.set(n.form2object("#group_add_form"))&&(promise=this.model.save(),promise&&(promise.error(function(i){var n=JSON.parse(i.responseText);e.each(n.errors,function(e,i){t("#"+i+"_error").show().html(e[0])})}),promise.success(function(){app.navigate("feed/"+a.model.id,{trigger:!0})})))},delete_group:function(e){e.preventDefault(),self=this,confirm("Do you want to Delete your Group?")&&self.model.destroy({success:function(){app.navigate("/#",{trigger:!0})}})}});return s});