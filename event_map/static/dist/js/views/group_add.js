define(["underscore","jquery","backbone","utils","jade!../../templates/group_add"],function(e,t,i,a,s){var n=i.View.extend({tagname:"div",template:s,className:"span7 overflow setheight",events:{"click #add_group":"add_group","click .cancel":"cancel","click #delete_group":"delete_group"},initialize:function(){this.model.on("error",function(i,a){e.each(a,function(e,i){t("#"+i+"_error").show().html(e)})})},render:function(){return this.$el.append(this.template(this.model.toJSON())),this},cancel:function(e){e.preventDefault(),app.navigate("/#",{trigger:!0})},add_group:function(i){var s=this;if(i.preventDefault(),t(".label").hide(),this.model.set(a.form2object("#group_add_form"))){var n=this.model.save();n&&(n.error(function(i){var a=JSON.parse(i.responseText);e.each(a.errors,function(e,i){t("#"+i+"_error").show().html(e[0])})}),n.success(function(){app.navigate("feed/"+s.model.id,{trigger:!0})}))}},delete_group:function(e){e.preventDefault();var t=this;confirm("Do you want to Delete your Group?")&&t.model.destroy({success:function(){app.navigate("/#",{trigger:!0})}})}});return n});