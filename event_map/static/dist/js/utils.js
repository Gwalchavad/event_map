define(["jquery","underscore","handlebars"],function(e,t){function n(e){var t=document.location.host,n=document.location.protocol,r="//"+t,o=n+r;return e==o||e.slice(0,o.length+1)==o+"/"||e==r||e.slice(0,r.length+1)==r+"/"||!/^(\/\/|http:|https:).*/.test(e)}function r(e){return/^(GET|HEAD|OPTIONS|TRACE)$/.test(e)}var o=function(e){var t=null;if(document.cookie&&""!==document.cookie)for(var n=document.cookie.split(";"),r=0;n.length>r;r++){var o=jQuery.trim(n[r]);if(o.substring(0,e.length+1)==e+"="){t=decodeURIComponent(o.substring(e.length+1));break}}return t},i=function(n){var r={},o=e(n).serializeArray();return t.each(o,function(e){"csrfmiddlewaretoken"!=e.value&&(r[e.name]=e.value)}),r},u=function(){function e(){var e=document.createElement("INPUT");return e.type="file","files"in e}function t(){var e=new XMLHttpRequest;return!!(e&&"upload"in e&&"onprogress"in e.upload)}function n(){return!!window.FormData}return e()&&t()&&n()},a=function(e,t,n){var r="",o=e.split("?"),i=o[0],u=o[1],a="";if(u){o=u.split("&");for(var s=0;o.length>s;s++)o[s].split("=")[0]!=t&&(r+=a+o[s],a="&")}var c=a+""+t+"="+n;return i+"?"+r+c};return{getCookie:o,form2object:i,updateURLParameter:a,safeMethod:r,sameOrigin:n,supportAjaxUploadWithProgress:u}});